import{r as a}from"./vendor-a_veRcX1.js";import{j as s,F as R,a as e,M as c,B as v,I as T,b as o}from"./react-bootstrap-D1hRbB8e.js";import{P as B}from"./index-Bq73aAG5.js";const G="https://github.com/user-attachments/files/18716974/Mastering.DeepSeek_.Unleashing.Hidden.Features.Secret.Tricks.Powerful.Prompts.pdf",_="https://script.google.com/macros/s/AKfycbzKz03CLv6V5lePGZpqOOj_Fp6-xP-sug01kXdbLncRuv_ayirbbWLRvB9jdmKA0e8zaA/exec",M=()=>{const[k,m]=a.useState(!1),[t,x]=a.useState(""),[r,C]=a.useState(""),[n,u]=a.useState(!1),[b,N]=a.useState(!1),[O,S]=a.useState(""),[i,g]=a.useState(!1),h=a.useRef(null),[y,f]=a.useState(!1),[E,L]=a.useState(!1);a.useEffect(()=>{L(!0)},[]);const D=async l=>{if(l.preventDefault(),!(!t||!r))try{u(!0),N(!1),S(""),console.log("Submitting data to Google Sheets:",{name:t,email:r});const p=await fetch(_,{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t,email:r})});console.log("Google Script Response:",p),g(!0),u(!1)}catch(p){const w=p;console.error("Error submitting data:",w),N(!0),S(w.message||"An unexpected error occurred. Please try again."),u(!1)}},P=()=>{h.current&&(h.current.click(),f(!0))};a.useEffect(()=>{i&&!y&&P()},[i,y]);let d=null;return b?d=s("div",{className:"modal-message text-danger",children:[e("p",{children:"Oops! Something went wrong."}),e("p",{className:"small",children:O})]}):n?d=e("div",{className:"modal-message",children:"Loading..."}):i&&(d=s("div",{className:"modal-message text-success",children:[s("p",{children:["Thanks, ",t,"!"]}),e("p",{className:"small",children:"Your eBook is ready for download."})]})),E?s(R,{children:[s(c,{show:k,onHide:()=>{m(!1),f(!1),g(!1)},centered:!0,dialogClassName:"simple-modal","aria-labelledby":"modal-title",children:[e("div",{className:"position-absolute top-0 end-0 p-3",children:e(v,{variant:"link",className:"modal-close-btn",onClick:()=>{m(!1),f(!1),g(!1)},"aria-label":"Close",children:"âœ•"})}),e(c.Header,{className:"simple-modal-header",children:s("div",{className:"d-flex flex-column align-items-center w-100",children:[s("div",{className:"d-flex align-items-center gap-3 mb-2",children:[e(T,{src:B,alt:"Ai Trends Logo",height:32,width:32,className:"modal-logo"}),e(c.Title,{as:"h5",id:"modal-title",className:"modal-title",children:"Free eBook Download"})]}),e("p",{className:"small text-muted text-center mb-0",children:"Thank you for being here. Our love for tech brought us here!"})]})}),e(c.Body,{className:"simple-modal-body",children:!n&&!i&&!b?s(o,{onSubmit:D,className:"modal-form",children:[e(o.Group,{controlId:"name",className:"mb-3",children:e(o.Control,{type:"text",placeholder:"Full Name",value:t,onChange:l=>x(l.target.value),required:!0,className:"modal-input","aria-required":"true"})}),e(o.Group,{controlId:"email",className:"mb-4",children:e(o.Control,{type:"email",placeholder:"Email Address",value:r,onChange:l=>C(l.target.value),required:!0,className:"modal-input","aria-required":"true",pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$",title:"Please enter a valid email address"})}),e(v,{type:"submit",className:"modal-submit-btn",disabled:n,children:n?"Loading...":"Get eBook"})]}):d})]}),e("a",{href:G,download:"MasteringDeepSeek.pdf",style:{display:"none"},ref:h}),e("button",{type:"button",className:"d-none",onClick:()=>m(!0),id:"ebook-download-trigger"})]}):null};export{M as default};
